syntax = "proto3";

package node.v1;

// Node 标识一个网关节点信息。
// 用于负载均衡和连接重定向策略。
message Node {
  string id = 1;

  string ip = 2;
  int32 port = 3;

  // 节点权重，用于负载均衡算法，取值 [0, 100)。
  int32 weight = 4;
  // 节点位置。
  string location = 5;

  // 节点容量 ( 可支撑连接数的最大值 )。
  int64 conn_capacity = 6;
  // 节点当前负载。
  int64 load = 7;

  // 节点标签。
  repeated string labels = 8;
}

message NodeList {
  repeated Node nodes = 1;
}
